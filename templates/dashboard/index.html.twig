{% extends 'base.html.twig' %}
{% set page_title = 'Панель управления' %}
{% set sub_page_title = '' %}
{% set refer = 0 %}

{% block title %}
    {% if page_title is defined %} {{ page_title }} {% endif %}
{% endblock title %}

{% block body %}
    <div class="d-flex flex-column flex-md-row justify-content-md-between align-items-md-center py-2 text-center text-md-start pb-4">
        <div class="flex-grow-1 mb-1 mb-md-0">
            <h2 class="h6 fw-medium fw-medium text-muted mb-0">
                Добро пожаловать!
                {% if app.user.staff is not null and app.user.staff  is defined %}
                <a class="fw-semibold"
                   href="{{ path('app_staff_show',{'id':app.user.staff.id}) }}"> {{ app.user.staff.firstName~" "~app.user.staff.lastName }}
                    {% endif %}</a>
            </h2>
        </div>

        <div class="mt-3 mt-md-0 ms-md-3 space-x-1">
            <a class="btn btn-sm btn-alt-secondary space-x-1" href="#">
                <i class="fa fa-cogs opacity-50"></i>
                <span>Settings</span>
            </a>
            <div class="dropdown d-inline-block">
                <button type="button" class="btn btn-sm btn-alt-secondary space-x-1" id="dropdown-analytics-overview"
                        data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-fw fa-calendar-alt opacity-50"></i>
                    <span>All time</span>
                    <i class="fa fa-fw fa-angle-down"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-end fs-sm" aria-labelledby="dropdown-analytics-overview">
                    <a class="dropdown-item fw-medium" href="javascript:void(0)">Last 30 days</a>
                    <a class="dropdown-item fw-medium" href="javascript:void(0)">Last month</a>
                    <a class="dropdown-item fw-medium" href="javascript:void(0)">Last 3 months</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item fw-medium" href="javascript:void(0)">This year</a>
                    <a class="dropdown-item fw-medium" href="javascript:void(0)">Last Year</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item fw-medium d-flex align-items-center justify-content-between"
                       href="javascript:void(0)">
                        <span>All time</span>
                        <i class="fa fa-check"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    {% if  groups is defined %}
<div class="col-xs-12 col-md-6">
    <div class="block block-bordered  block-rounded">
        <div class="block-header">
            <b>Мои группы</b>
        </div>
        <div class="block-content">
            <div class="row row-xs-1 row-cols-lg-2 push">
                {% if (groups|length)>=1 and (groups|length)<=2 %}

                        {% for group in groups %}
                            <div class="col">
                                <div class="block block-rounded h-100 mb-0">
                                    <div class="block-content block-content-full d-flex align-items-center justify-content-between bg-primary-dark">
                                        <div class="me-3">
                                            <p class="text-white fw-bold mb-0">Группа {{ group.getName() }}</p>
                                            <p class="fs-sm fw-medium text-white-75 mb-0">
                                                Студентов: {{ group.getStudents.count }}
                                            </p>
                                        </div>
                                        <img class="img-avatar img-avatar48 img-avatar-thumb"
                                             src="/assets/media/avatars/avatar15.jpg" alt="">
                                    </div>
                                    <div class="block-content border-top bg-secondary-subtle block-content-full">
                                        <a class="btn btn-secondary btn-sm d-flex mb-2 align-items-center justify-content-between"
                                           href="{{ path('app_student_groups_show_students',{'id':group.getid()}) }}">
                                            <span>Открыть список группы</span>
                                            <i class="fa fa-arrow-alt-circle-right ms-1 opacity-50 fs-base"></i>
                                        </a>
                                        <a class="btn btn-secondary btn-sm d-flex align-items-center justify-content-between"
                                           href="{{ path('app_student_groups_show_students',{'id':group.getid()}) }}">
                                            <span>Сводка по группе</span>
                                            <i class="fa fa-arrow-alt-circle-right ms-1 opacity-50 fs-base"></i>
                                        </a>

                                    </div>
                                </div>
                            </div>
                        {% endfor %}

        {% endif %}
                {% if (groups|length)>2 %}
                {% for group in groups %}
                    <div class="col">
                        <a class="block block-bordered block-rounded block-link-shadow" href="{{ path('app_student_groups_show',{'id':group.getid()}) }}">
                            <div class="block-content block-content-full d-flex align-items-center justify-content-between">
                                <div>
                                    <i class="fa fa-2x fa-people-group text-muted"></i>
                                </div>
                                <dl class="ms-3 text-end mb-0">
                                    <dt class="h4 fw-extrabold mb-0">
                                        Группа {{ group.getName() }}
                                    </dt>
                                    <dd class="fs-sm fw-medium text-muted mb-0">
                                        Студентов: {{ group.getStudents.count }}
                                    </dd>
                                </dl>
                            </div>
                        </a>
                    </div>
                {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
</div>
    {% endif %}
    {% if is_granted('ROLE_ROOT') %}
    {% endif %}
{% endblock body %}