/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/datatables.net-staterestore@1.4.1/js/dataTables.stateRestore.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import e from"jquery";import t from"datatables.net";export{default}from"datatables.net";
/*! StateRestore 1.4.1
 * © SpryMedia Ltd - datatables.net/license
 */let s=e;!function(){var e,o;var i,a,n=function(){function s(t,i,a,n,r,c){if(void 0===n&&(n=void 0),void 0===r&&(r=!1),void 0===c&&(c=function(){return null}),!o||!o.versionCheck||!o.versionCheck("1.10.0"))throw new Error("StateRestore requires DataTables 1.10 or newer");if(!o.Buttons)throw new Error("StateRestore requires Buttons");var l=new o.Api(t);this.classes=e.extend(!0,{},s.classes),this.c=e.extend(!0,{},s.defaults,i),this.s={dt:l,identifier:a,isPreDefined:r,savedState:null,tableId:n&&n.stateRestore?n.stateRestore.tableId:void 0},this.dom={background:e('<div class="'+this.classes.background+'"/>'),closeButton:e('<div class="'+this.classes.closeButton+'">&times;</div>'),confirmation:e('<div class="'+this.classes.confirmation+'"/>'),confirmationButton:e('<button class="'+this.classes.confirmationButton+" "+this.classes.dtButton+'">'),confirmationTitleRow:e('<div class="'+this.classes.confirmationTitleRow+'"></div>'),dtContainer:e(this.s.dt.table().container()),duplicateError:e('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError)+"</span>"),emptyError:e('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError)+"</span>"),removeContents:e('<div class="'+this.classes.confirmationText+'"><span>'+this.s.dt.i18n("stateRestore.removeConfirm",this.c.i18n.removeConfirm).replace(/%s/g,s.entityEncode(this.s.identifier))+"</span></div>"),removeError:e('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.removeError",this.c.i18n.removeError)+"</span>"),removeTitle:e('<h2 class="'+this.classes.confirmationTitle+'">'+this.s.dt.i18n("stateRestore.removeTitle",this.c.i18n.removeTitle)+"</h2>"),renameContents:e('<div class="'+this.classes.confirmationText+" "+this.classes.renameModal+'"><label class="'+this.classes.confirmationMessage+'">'+this.s.dt.i18n("stateRestore.renameLabel",this.c.i18n.renameLabel).replace(/%s/g,s.entityEncode(this.s.identifier))+"</label></div>"),renameInput:e('<input class="'+this.classes.input+'" type="text"></input>'),renameTitle:e('<h2 class="'+this.classes.confirmationTitle+'">'+this.s.dt.i18n("stateRestore.renameTitle",this.c.i18n.renameTitle)+"</h2>")},this.save(n,c)}return s.prototype.remove=function(t){var s,o,i=this;if(void 0===t&&(t=!1),!this.c.remove)return!1;var a={action:"remove",stateRestore:(s={},s[this.s.identifier]=this.s.savedState,s)},n=function(){i.dom.confirmation.trigger("dtsr-remove"),e(i.s.dt.table().node()).trigger("stateRestore-change"),i.dom.background.click(),i.dom.confirmation.remove(),e(document).unbind("keyup",(function(e){return i._keyupFunction(e)})),i.dom.confirmationButton.off("click")};return this.c.ajax?"string"==typeof this.c.ajax&&this.s.dt.settings()[0]._bInitComplete?o=function(){return e.ajax({data:a,success:n,type:"POST",url:i.c.ajax}),!0}:"function"==typeof this.c.ajax&&(o=function(){return"function"==typeof i.c.ajax&&i.c.ajax.call(i.s.dt,a,n),!0}):o=function(){try{localStorage.removeItem("DataTables_stateRestore_"+i.s.identifier+"_"+location.pathname+(i.s.tableId?"_"+i.s.tableId:"")),n()}catch(e){return i.dom.confirmation.children("."+i.classes.modalError).remove(),i.dom.confirmation.append(i.dom.removeError),"remove"}return!0},t?(this.dom.confirmation.appendTo(this.dom.dtContainer),e(this.s.dt.table().node()).trigger("dtsr-modal-inserted"),o(),this.dom.confirmation.remove()):this._newModal(this.dom.removeTitle,this.s.dt.i18n("stateRestore.removeSubmit",this.c.i18n.removeSubmit),o,this.dom.removeContents),!0},s.prototype.compare=function(e){if(this.c.saveState.order||(e.order=void 0),this.c.saveState.search||(e.search=void 0),this.c.saveState.columns&&e.columns)for(var t=0,s=e.columns.length;t<s;t++)"boolean"==typeof this.c.saveState.columns||this.c.saveState.columns.visible||(e.columns[t].visible=void 0),"boolean"==typeof this.c.saveState.columns||this.c.saveState.columns.search||(e.columns[t].search=void 0);else this.c.saveState.columns||(e.columns=void 0);this.c.saveState.paging||(e.page=void 0),this.c.saveState.searchBuilder||(e.searchBuilder=void 0),this.c.saveState.searchPanes||(e.searchPanes=void 0),this.c.saveState.select||(e.select=void 0),this.c.saveState.colReorder||(e.ColReorder=void 0),this.c.saveState.scroller||(e.scroller=void 0,void 0!==o.Scroller&&(e.start=0)),this.c.saveState.paging||(e.start=0),this.c.saveState.length||(e.length=void 0),delete e.time;var i=this.s.savedState;return delete i.time,delete i.c,delete i.stateRestore,this._deepCompare(e,i)},s.prototype.destroy=function(){e.each(this.dom,(function(e,t){t.off().remove()}))},s.prototype.load=function(){var s=this,o=this.s.savedState,i=this.s.dt.settings()[0];o.time=+new Date,i.oLoadedState=e.extend(!0,{},o),e("div.dt-button-background").click();var a=function(){s.s.dt.one("preDraw",(function(e,t){setTimeout((function(){var e=t._iDisplayStart/t._iDisplayLength,i=o.start/o.length;e>=0&&i>=0&&e!==i&&s.s.dt.page(i).draw(!1)}),50)})),s.s.dt.draw(!1)};return t.versionCheck("2")?(this.s.dt.state(o),a()):t.ext.oApi._fnImplementState(i,o,a),o},s.prototype.rename=function(t,s){var o=this;if(void 0===t&&(t=null),this.c.rename){var i=function(){var i;if(null===t){var a=e("input."+o.classes.input.replace(/ /g,".")).val();if(0===a.length)return o.dom.confirmation.children("."+o.classes.modalError).remove(),o.dom.confirmation.append(o.dom.emptyError),"empty";if(s.includes(a))return o.dom.confirmation.children("."+o.classes.modalError).remove(),o.dom.confirmation.append(o.dom.duplicateError),"duplicate";t=a}var n={action:"rename",stateRestore:(i={},i[o.s.identifier]=t,i)},r=function(){o.s.identifier=t,o.save(o.s.savedState,(function(){return null}),!1),o.dom.removeContents=e('<div class="'+o.classes.confirmationText+'"><span>'+o.s.dt.i18n("stateRestore.removeConfirm",o.c.i18n.removeConfirm).replace(/%s/g,o.s.identifier)+"</span></div>"),o.dom.confirmation.trigger("dtsr-rename"),o.dom.background.click(),o.dom.confirmation.remove(),e(document).unbind("keyup",(function(e){return o._keyupFunction(e)})),o.dom.confirmationButton.off("click")};if(o.c.ajax)"string"==typeof o.c.ajax&&o.s.dt.settings()[0]._bInitComplete?e.ajax({data:n,success:r,type:"POST",url:o.c.ajax}):"function"==typeof o.c.ajax&&o.c.ajax.call(o.s.dt,n,r);else try{localStorage.removeItem("DataTables_stateRestore_"+o.s.identifier+"_"+location.pathname+(o.s.tableId?"_"+o.s.tableId:"")),r()}catch(e){return o.dom.confirmation.children("."+o.classes.modalError).remove(),o.dom.confirmation.append(o.dom.removeError),!1}return!0};if(null!==t){if(s.includes(t))throw new Error(this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError));if(0===t.length)throw new Error(this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError));this.dom.confirmation.appendTo(this.dom.dtContainer),e(this.s.dt.table().node()).trigger("dtsr-modal-inserted"),i(),this.dom.confirmation.remove()}else this.dom.renameInput.val(this.s.identifier),this.dom.renameContents.append(this.dom.renameInput),this._newModal(this.dom.renameTitle,this.s.dt.i18n("stateRestore.renameButton",this.c.i18n.renameButton),i,this.dom.renameContents)}},s.prototype.save=function(t,s,i){var a,n=this;if(void 0===i&&(i=!0),this.c.save){var r;if(this.s.dt.state.save(),void 0===t)r=this.s.dt.state();else{if("object"!=typeof t)return;r=t}if(r.stateRestore?(r.stateRestore.isPreDefined=this.s.isPreDefined,r.stateRestore.state=this.s.identifier,r.stateRestore.tableId=this.s.tableId):r.stateRestore={isPreDefined:this.s.isPreDefined,state:this.s.identifier,tableId:this.s.tableId},this.s.savedState=r,this.c.saveState.order||(this.s.savedState.order=void 0),this.c.saveState.search||(this.s.savedState.search=void 0),this.c.saveState.columns&&this.s.savedState.columns)for(var c=0,l=this.s.savedState.columns.length;c<l;c++)"boolean"==typeof this.c.saveState.columns||this.c.saveState.columns.visible||(this.s.savedState.columns[c].visible=void 0),"boolean"==typeof this.c.saveState.columns||this.c.saveState.columns.search||(this.s.savedState.columns[c].search=void 0);else this.c.saveState.columns||(this.s.savedState.columns=void 0);if(this.c.saveState.searchBuilder||(this.s.savedState.searchBuilder=void 0),this.c.saveState.searchPanes||(this.s.savedState.searchPanes=void 0),this.c.saveState.select||(this.s.savedState.select=void 0),this.c.saveState.colReorder||(this.s.savedState.ColReorder=void 0),this.c.saveState.scroller||(this.s.savedState.scroller=void 0,void 0!==o.Scroller&&(this.s.savedState.start=0)),this.c.saveState.paging||(this.s.savedState.start=0),this.c.saveState.length||(this.s.savedState.length=void 0),this.s.savedState.c=this.c,this.s.savedState.c.splitSecondaries.length)for(var d=0,h=this.s.savedState.c.splitSecondaries;d<h.length;d++){var u=h[d];u.parent&&(u.parent=void 0)}if(this.s.isPreDefined)s&&s.call(this);else{var m={action:"save",stateRestore:(a={},a[this.s.identifier]=this.s.savedState,a)},v=function(){s&&s.call(n),n.dom.confirmation.trigger("dtsr-save"),e(n.s.dt.table().node()).trigger("stateRestore-change")};this.c.ajax?"string"==typeof this.c.ajax&&i?this.s.dt.settings()[0]._bInitComplete?e.ajax({data:m,success:v,type:"POST",url:this.c.ajax}):this.s.dt.one("init",(function(){e.ajax({data:m,success:v,type:"POST",url:n.c.ajax})})):"function"==typeof this.c.ajax&&i&&this.c.ajax.call(this.s.dt,m,v):(localStorage.setItem("DataTables_stateRestore_"+this.s.identifier+"_"+location.pathname+(this.s.tableId?"_"+this.s.tableId:""),JSON.stringify(this.s.savedState)),v())}}else s&&s.call(this)},s.entityEncode=function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e},s.prototype._deepCompare=function(e,t){var s,o,i=[e,t],a=[Object.keys(e).sort(),Object.keys(t).sort()];for(a[0].includes("scroller")&&(s=a[0].indexOf("start"))&&a[0].splice(s,1),a[1].includes("scroller")&&(s=a[1].indexOf("start"))&&a[1].splice(s,1),o=0;o<a[0].length;o++)0!==a[0][o].indexOf("_")?("baseRowTop"===a[0][o]||"baseScrollTop"===a[0][o]||"scrollTop"===a[0][o]||!this.c.saveState.paging&&"page"===a[0][o])&&(a[0].splice(o,1),o--):(a[0].splice(o,1),o--);for(o=0;o<a[1].length;o++)0!==a[1][o].indexOf("_")?("baseRowTop"===a[1][o]||"baseScrollTop"===a[1][o]||"scrollTop"===a[1][o]||!this.c.saveState.paging&&"page"===a[0][o])&&(a[1].splice(o,1),o--):(a[1].splice(o,1),o--);if(0===a[0].length&&a[1].length>0||0===a[1].length&&a[0].length>0)return!1;for(o=0;o<a[0].length;o++)a[1].includes(a[0][o])||(a[0].splice(o,1),o--);for(o=0;o<a[1].length;o++)a[0].includes(a[1][o])||(a[1].splice(o,1),o--);for(o=0;o<a[0].length;o++){if(a[0][o]!==a[1][o]||typeof i[0][a[0][o]]!=typeof i[1][a[1][o]])return!1;if("object"==typeof i[0][a[0][o]]){if(!this._deepCompare(i[0][a[0][o]],i[1][a[1][o]]))return!1}else if("number"==typeof i[0][a[0][o]]&&"number"==typeof i[1][a[1][o]]){if(Math.round(i[0][a[0][o]])!==Math.round(i[1][a[1][o]]))return!1}else if(i[0][a[0][o]]!==i[1][a[1][o]])return!1}return!0},s.prototype._keyupFunction=function(t){"Enter"===t.key?this.dom.confirmationButton.click():"Escape"===t.key&&e("div."+this.classes.background.replace(/ /g,".")).click()},s.prototype._newModal=function(t,s,o,i){var a=this;this.dom.background.appendTo(this.dom.dtContainer),this.dom.confirmationTitleRow.empty().append(t),this.dom.confirmationButton.html(s),this.dom.confirmation.empty().append(this.dom.confirmationTitleRow).append(i).append(e('<div class="'+this.classes.confirmationButtons+'"></div>').append(this.dom.confirmationButton)).appendTo(this.dom.dtContainer),e(this.s.dt.table().node()).trigger("dtsr-modal-inserted");var n=i.children("input");n.length>0?e(n[0]).focus():this.dom.confirmationButton.focus();var r=e("div."+this.classes.background.replace(/ /g,"."));this.c.modalCloseButton&&(this.dom.confirmation.append(this.dom.closeButton),this.dom.closeButton.on("click",(function(){return r.click()}))),this.dom.confirmationButton.on("click",(function(){return o()})),this.dom.confirmation.on("click",(function(e){e.stopPropagation()})),r.one("click",(function(){a.dom.background.remove(),a.dom.confirmation.remove(),e(document).unbind("keyup",(function(e){return a._keyupFunction(e)}))})),e(document).on("keyup",(function(e){return a._keyupFunction(e)}))},s.version="1.4.1",s.classes={background:"dtsr-background",closeButton:"dtsr-popover-close",confirmation:"dtsr-confirmation",confirmationButton:"dtsr-confirmation-button",confirmationButtons:"dtsr-confirmation-buttons",confirmationMessage:"dtsr-confirmation-message dtsr-name-label",confirmationText:"dtsr-confirmation-text",confirmationTitle:"dtsr-confirmation-title",confirmationTitleRow:"dtsr-confirmation-title-row",dtButton:"dt-button",input:"dtsr-input",modalError:"dtsr-modal-error",renameModal:"dtsr-rename-modal"},s.defaults={_createInSaved:!1,ajax:!1,create:!0,creationModal:!1,i18n:{creationModal:{button:"Create",colReorder:"Column Order:",columns:{search:"Column Search:",visible:"Column Visibility:"},length:"Page Length:",name:"Name:",order:"Sorting:",paging:"Paging:",scroller:"Scroll Position:",search:"Search:",searchBuilder:"SearchBuilder:",searchPanes:"SearchPanes:",select:"Select:",title:"Create New State",toggleLabel:"Includes:"},duplicateError:"A state with this name already exists.",emptyError:"Name cannot be empty.",emptyStates:"No saved states",removeConfirm:"Are you sure you want to remove %s?",removeError:"Failed to remove state.",removeJoiner:" and ",removeSubmit:"Remove",removeTitle:"Remove State",renameButton:"Rename",renameLabel:"New Name for %s:",renameTitle:"Rename State"},modalCloseButton:!0,remove:!0,rename:!0,save:!0,saveState:{colReorder:!0,columns:{search:!0,visible:!0},length:!0,order:!0,paging:!0,scroller:!0,search:!0,searchBuilder:!0,searchPanes:!0,select:!0},splitSecondaries:["updateState","renameState","removeState"],toggle:{colReorder:!1,columns:{search:!1,visible:!1},length:!1,order:!1,paging:!1,scroller:!1,search:!1,searchBuilder:!1,searchPanes:!1,select:!1}},s}();var r,c=function(){function e(t,s){var o=this;if(!a||!a.versionCheck||!a.versionCheck("1.10.0"))throw new Error("StateRestore requires DataTables 1.10 or newer");if(!a.Buttons)throw new Error("StateRestore requires Buttons");var n=new a.Api(t);if(this.classes=i.extend(!0,{},e.classes),void 0===n.settings()[0]._stateRestore){var r;this.c=i.extend(!0,{},e.defaults,s),this.s={dt:n,hasColReorder:void 0!==a.ColReorder,hasScroller:void 0!==a.Scroller,hasSearchBuilder:void 0!==a.SearchBuilder,hasSearchPanes:void 0!==a.SearchPanes,hasSelect:void 0!==a.select,states:[]},this.s.dt.on("xhr",(function(e,t,s){s&&s.stateRestore&&o._addPreDefined(s.stateRestore)})),this.dom={background:i('<div class="'+this.classes.background+'"/>'),checkboxInputRow:i('<div class="'+this.classes.formRow+'"><label class="'+this.classes.nameLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.toggleLabel",this.c.i18n.creationModal.toggleLabel)+'</label><div class="dtsr-input"></div></div>'),closeButton:i('<div class="'+this.classes.closeButton+'">x</div>'),colReorderToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.colReorderToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.colReorder",this.c.i18n.creationModal.colReorder)+"</div>"),columnsSearchToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.columnsSearchToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.columns.search",this.c.i18n.creationModal.columns.search)+"</div>"),columnsVisibleToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.columnsVisibleToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.columns.visible",this.c.i18n.creationModal.columns.visible)+"</div>"),confirmation:i('<div class="'+this.classes.confirmation+'"/>'),confirmationTitleRow:i('<div class="'+this.classes.confirmationTitleRow+'"></div>'),createButtonRow:i('<div class="'+this.classes.formRow+" "+this.classes.modalFoot+'"><button class="'+this.classes.creationButton+" "+this.classes.dtButton+'">'+this.s.dt.i18n("stateRestore.creationModal.button",this.c.i18n.creationModal.button)+"</button></div>"),creation:i('<div class="'+this.classes.creation+'"/>'),creationForm:i('<div class="'+this.classes.creationForm+'"/>'),creationTitle:i('<div class="'+this.classes.creationText+'"><h2 class="'+this.classes.creationTitle+'">'+this.s.dt.i18n("stateRestore.creationModal.title",this.c.i18n.creationModal.title)+"</h2></div>"),dtContainer:i(this.s.dt.table().container()),duplicateError:i('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError)+"</span>"),emptyError:i('<span class="'+this.classes.modalError+'">'+this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError)+"</span>"),lengthToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.lengthToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.length",this.c.i18n.creationModal.length)+"</div>"),nameInputRow:i('<div class="'+this.classes.formRow+'"><label class="'+this.classes.nameLabel+'">'+this.s.dt.i18n("stateRestore.creationModal.name",this.c.i18n.creationModal.name)+'</label><div class="dtsr-input"><input class="'+this.classes.nameInput+'" type="text"></div></div>'),orderToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.orderToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.order",this.c.i18n.creationModal.order)+"</div>"),pagingToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.pagingToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.paging",this.c.i18n.creationModal.paging)+"</div>"),removeContents:i('<div class="'+this.classes.confirmationText+'"><span></span></div>'),removeTitle:i('<div class="'+this.classes.creationText+'"><h2 class="'+this.classes.creationTitle+'">'+this.s.dt.i18n("stateRestore.removeTitle",this.c.i18n.removeTitle)+"</h2></div>"),scrollerToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.scrollerToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.scroller",this.c.i18n.creationModal.scroller)+"</div>"),searchBuilderToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.searchBuilderToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.searchBuilder",this.c.i18n.creationModal.searchBuilder)+"</div>"),searchPanesToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.searchPanesToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.searchPanes",this.c.i18n.creationModal.searchPanes)+"</div>"),searchToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.searchToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.search",this.c.i18n.creationModal.search)+"</div>"),selectToggle:i('<div class="'+this.classes.checkLabel+'"><input type="checkbox" class="'+this.classes.selectToggle+" "+this.classes.checkBox+'" checked>'+this.s.dt.i18n("stateRestore.creationModal.select",this.c.i18n.creationModal.select)+"</div>")},n.settings()[0]._stateRestore=this,this._searchForStates(),this._addPreDefined(this.c.preDefined);var c={action:"load"};return"function"==typeof this.c.ajax?r=function(){"function"==typeof o.c.ajax&&o.c.ajax.call(o.s.dt,c,(function(e){return o._addPreDefined(e)}))}:"string"==typeof this.c.ajax&&(r=function(){i.ajax({data:c,success:function(e){o._addPreDefined(e)},type:"POST",url:o.c.ajax})}),"function"==typeof r&&(this.s.dt.settings()[0]._bInitComplete?r():this.s.dt.one("preInit.dtsr",(function(){r()}))),this.s.dt.on("destroy.dtsr",(function(){o.destroy()})),this.s.dt.on("draw.dtsr buttons-action.dtsr",(function(){return o.findActive()})),this}}return e.prototype.addState=function(e,t,s){var o=this;if(this.c.create&&this.c.save){var a=function(e,a){if(0===e.length)return"empty";if(t.includes(e))return"duplicate";o.s.dt.state.save();var r=o,c=o.s.dt.state();if(c.stateRestore={isPredefined:!1,state:e,tableId:o.s.dt.table().node().id},a.saveState){for(var l=o.c.saveState,d=0,h=Object.keys(a.saveState);d<h.length;d++){var u=h[d];if("object"==typeof a.saveState[u])for(var m=0,v=Object.keys(a.saveState[u]);m<v.length;m++){var g=v[m];a.saveState[u][g]||(l[u][g]=!1)}else a.saveState[u]||(l[u]=!1)}o.c.saveState=l}var f=new n(o.s.dt.settings()[0],i.extend(!0,{},o.c,s),e,c,!1,(function(){r.s.states.push(this),r._collectionRebuild()}));return i(o.s.dt.table().node()).on("dtsr-modal-inserted",(function(){f.dom.confirmation.one("dtsr-remove",(function(){return o._removeCallback(f.s.identifier)})),f.dom.confirmation.one("dtsr-rename",(function(){return o._collectionRebuild()})),f.dom.confirmation.one("dtsr-save",(function(){return o._collectionRebuild()}))})),!0};if(null!==this.getState(e))throw new Error(this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError));if(this.c.creationModal||void 0!==s&&s.creationModal)this._creationModal(a,e,s);else{var r=a(e,{});if("empty"===r)throw new Error(this.s.dt.i18n("stateRestore.emptyError",this.c.i18n.emptyError));if("duplicate"===r)throw new Error(this.s.dt.i18n("stateRestore.duplicateError",this.c.i18n.duplicateError))}}},e.prototype.removeAll=function(e){if(0!==this.s.states.length){var t=this.s.states.map((function(e){return e.s.identifier})),s=t[0];t.length>1&&(s=t.slice(0,-1).join(", ")+this.s.dt.i18n("stateRestore.removeJoiner",this.c.i18n.removeJoiner)+t.slice(-1)),i(this.dom.removeContents.children("span")).html(this.s.dt.i18n("stateRestore.removeConfirm",this.c.i18n.removeConfirm).replace(/%s/g,s)),this._newModal(this.dom.removeTitle,this.s.dt.i18n("stateRestore.removeSubmit",this.c.i18n.removeSubmit),e,this.dom.removeContents)}},e.prototype.destroy=function(){for(var e=0,t=this.s.states;e<t.length;e++){t[e].destroy()}i.each(this.dom,(function(e,t){t.off().remove()})),this.s.states=[],this.s.dt.off(".dtsr"),i(this.s.dt.table().node()).off(".dtsr")},e.prototype.findActive=function(){this.s.dt.state.save();for(var e,t=this.s.dt.state(),s=this.s.dt.buttons().nodes(),o=0,a=s;o<a.length;o++)e=a[o],(i(e).hasClass("dtsr-state")||i(e).children().hasClass("dtsr-state"))&&this.s.dt.button(e).active(!1);for(var n=[],r=0,c=this.s.states;r<c.length;r++){var l=c[r];if(l.compare(t)){n.push({data:l.s.savedState,name:l.s.identifier});for(var d=0,h=s;d<h.length;d++){e=h[d];var u=this.s.dt.button(e);if(u.text()===l.s.identifier){u.active(!0);break}}}}return n},e.prototype.getState=function(e){for(var t=0,s=this.s.states;t<s.length;t++){var o=s[t];if(o.s.identifier===e)return o}return null},e.prototype.getStates=function(e){if(void 0===e)return this.s.states;for(var t=[],s=0,o=e;s<o.length;s++){for(var i=o[s],a=!1,n=0,r=this.s.states;n<r.length;n++){var c=r[n];if(i===c.s.identifier){t.push(c),a=!0;break}}a||t.push(void 0)}return t},e.prototype._addPreDefined=function(e){for(var t=this,s=Object.keys(e).sort((function(e,t){return e>t?1:e<t?-1:0})),o=function(s){for(var o=0;o<a.s.states.length;o++)a.s.states[o].s.identifier===s&&a.s.states.splice(o,1);var r=a,c=e[s],l=new n(a.s.dt,i.extend(!0,{},a.c,void 0!==c.c?{saveState:c.c.saveState}:void 0,!0),s,c,!0,(function(){r.s.states.push(this),r._collectionRebuild()}));l.s.savedState=c,i(a.s.dt.table().node()).on("dtsr-modal-inserted",(function(){l.dom.confirmation.one("dtsr-remove",(function(){return t._removeCallback(l.s.identifier)})),l.dom.confirmation.one("dtsr-rename",(function(){return t._collectionRebuild()})),l.dom.confirmation.one("dtsr-save",(function(){return t._collectionRebuild()}))}))},a=this,r=0,c=s;r<c.length;r++){o(c[r])}},e.prototype._collectionRebuild=function(){var e,t=this.s.dt.button("SaveStateRestore:name"),s=[];if(t[0]){var o=t.index().split("-");for(s=t[0].inst.c.buttons,e=0;e<o.length;e++){if(!s[o[e]].buttons){s=[];break}s=s[o[e]].buttons}}for(e=0;e<s.length;e++)"stateRestore"===s[e].extend&&(s.splice(e,1),e--);this.c._createInSaved&&s.push("createState");var a='<span class="'+this.classes.emptyStates+'">'+this.s.dt.i18n("stateRestore.emptyStates",this.c.i18n.emptyStates)+"</span>";if(0===this.s.states.length)s.includes(a)||s.push(a);else{for(;s.includes(a);)s.splice(s.indexOf(a),1);this.s.states=this.s.states.sort((function(e,t){var s=e.s.identifier,o=t.s.identifier;return s>o?1:s<o?-1:0}));for(var r=0,c=this.s.states;r<c.length;r++){var l=c[r],d=this.c.splitSecondaries.slice();!d.includes("updateState")||this.c.save&&l.c.save||d.splice(d.indexOf("updateState"),1),!d.includes("renameState")||this.c.save&&l.c.save&&this.c.rename&&l.c.rename||d.splice(d.indexOf("renameState"),1),!d.includes("removeState")||this.c.remove&&l.c.remove||d.splice(d.indexOf("removeState"),1),s.push({_stateRestore:l,attr:{title:l.s.identifier},config:{split:d},extend:"stateRestore",text:n.entityEncode(l.s.identifier),popoverTitle:n.entityEncode(l.s.identifier)})}}t.collectionRebuild(s);for(var h=0,u=this.s.dt.buttons();h<u.length;h++){var m=u[h];i(m.node).hasClass("dtsr-removeAllStates")&&(0===this.s.states.length?this.s.dt.button(m.node).disable():this.s.dt.button(m.node).enable())}},e.prototype._creationModal=function(e,t,s){var o=this;this.dom.creation.empty(),this.dom.creationForm.empty(),this.dom.nameInputRow.find("input").val(t),this.dom.creationForm.append(this.dom.nameInputRow);var a,n=this.s.dt.settings()[0].oInit,r=[],c=void 0!==s&&void 0!==s.toggle;((!c||void 0===s.toggle.order)&&this.c.toggle.order||c&&s.toggle.order)&&this.c.saveState.order&&(void 0===n.ordering||n.ordering)&&r.push(this.dom.orderToggle),((!c||void 0===s.toggle.search)&&this.c.toggle.search||c&&s.toggle.search)&&this.c.saveState.search&&(void 0===n.searching||n.searching)&&r.push(this.dom.searchToggle),((!c||void 0===s.toggle.paging)&&this.c.toggle.paging||c&&s.toggle.paging)&&this.c.saveState.paging&&(void 0===n.paging||n.paging)&&r.push(this.dom.pagingToggle),((!c||void 0===s.toggle.length)&&this.c.toggle.length||c&&s.toggle.length)&&this.c.saveState.length&&(void 0===n.length||n.length)&&r.push(this.dom.lengthToggle),this.s.hasColReorder&&((!c||void 0===s.toggle.colReorder)&&this.c.toggle.colReorder||c&&s.toggle.colReorder)&&this.c.saveState.colReorder&&r.push(this.dom.colReorderToggle),this.s.hasScroller&&((!c||void 0===s.toggle.scroller)&&this.c.toggle.scroller||c&&s.toggle.scroller)&&this.c.saveState.scroller&&r.push(this.dom.scrollerToggle),this.s.hasSearchBuilder&&((!c||void 0===s.toggle.searchBuilder)&&this.c.toggle.searchBuilder||c&&s.toggle.searchBuilder)&&this.c.saveState.searchBuilder&&r.push(this.dom.searchBuilderToggle),this.s.hasSearchPanes&&((!c||void 0===s.toggle.searchPanes)&&this.c.toggle.searchPanes||c&&s.toggle.searchPanes)&&this.c.saveState.searchPanes&&r.push(this.dom.searchPanesToggle),this.s.hasSelect&&((!c||void 0===s.toggle.select)&&this.c.toggle.select||c&&s.toggle.select)&&this.c.saveState.select&&r.push(this.dom.selectToggle),"boolean"==typeof this.c.toggle.columns&&((!c||void 0===s.toggle.order)&&this.c.toggle.columns||c&&s.toggle.order)&&this.c.saveState.columns?(r.push(this.dom.columnsSearchToggle),r.push(this.dom.columnsVisibleToggle)):(c&&void 0!==s.toggle.columns||"boolean"==typeof this.c.toggle.columns)&&"boolean"==typeof s.toggle.order||("boolean"!=typeof this.c.saveState.columns&&this.c.saveState.columns?((c&&void 0!==s.toggle.columns&&"boolean"!=typeof s.toggle.columns&&s.toggle.columns.search||(!c||void 0===s.toggle.columns||"boolean"!=typeof s.toggle.columns&&void 0===s.toggle.columns.search)&&"boolean"!=typeof this.c.toggle.columns&&this.c.toggle.columns.search)&&this.c.saveState.columns.search&&r.push(this.dom.columnsSearchToggle),(c&&void 0!==s.toggle.columns&&"boolean"!=typeof s.toggle.columns&&s.toggle.columns.visible||(!c||void 0===s.toggle.columns||"boolean"!=typeof s.toggle.columns&&void 0===s.toggle.columns.visible)&&"boolean"!=typeof this.c.toggle.columns&&this.c.toggle.columns.visible)&&this.c.saveState.columns.visible&&r.push(this.dom.columnsVisibleToggle)):this.c.saveState.columns&&(r.push(this.dom.columnsSearchToggle),r.push(this.dom.columnsVisibleToggle))),r.sort((function(e,t){var s=e.text(),o=t.text();return s<o?-1:s>o?1:0}));for(var l=this.dom.checkboxInputRow.appendTo(this.dom.creationForm).find("div.dtsr-input").empty(),d=0,h=r;d<h.length;d++)a=h[d],l.append(a);this.dom.background.appendTo(this.dom.dtContainer),this.dom.creation.append(this.dom.creationTitle).append(this.dom.creationForm).append(this.dom.createButtonRow).appendTo(this.dom.dtContainer),i(this.s.dt.table().node()).trigger("dtsr-modal-inserted");for(var u=0,m=r;u<m.length;u++)a=m[u],i(a.children("label:last-child")).on("click",(function(){a.children("input").prop("checked",!a.children("input").prop("checked"))}));var v=i("button."+this.classes.creationButton.replace(/ /g,".")),g=this.dom.creationForm.find("input");g.length>0?i(g[0]).focus():v.focus();var f=i("div."+this.classes.background.replace(/ /g,".")),p=function(e){"Enter"===e.key?v.click():"Escape"===e.key&&f.click()};this.c.modalCloseButton&&(this.dom.creation.append(this.dom.closeButton),this.dom.closeButton.on("click",(function(){return f.click()}))),v.on("click",(function(){var t={colReorder:o.dom.colReorderToggle.find("input").is(":checked"),columns:{search:o.dom.columnsSearchToggle.find("input").is(":checked"),visible:o.dom.columnsVisibleToggle.find("input").is(":checked")},length:o.dom.lengthToggle.find("input").is(":checked"),order:o.dom.orderToggle.find("input").is(":checked"),paging:o.dom.pagingToggle.find("input").is(":checked"),scroller:o.dom.scrollerToggle.find("input").is(":checked"),search:o.dom.searchToggle.find("input").is(":checked"),searchBuilder:o.dom.searchBuilderToggle.find("input").is(":checked"),searchPanes:o.dom.searchPanesToggle.find("input").is(":checked"),select:o.dom.selectToggle.find("input").is(":checked")},s=e(i("input."+o.classes.nameInput.replace(/ /g,".")).val(),{saveState:t});!0===s?(o.dom.background.remove(),o.dom.creation.remove(),i(document).unbind("keyup",p)):(o.dom.creation.children("."+o.classes.modalError).remove(),o.dom.creation.append(o.dom[s+"Error"]))})),f.one("click",(function(){o.dom.background.remove(),o.dom.creation.remove(),i(document).unbind("keyup",p),o._collectionRebuild()})),i(document).on("keyup",p),this.s.dt.state.save()},e.prototype._removeCallback=function(e){for(var t=0;t<this.s.states.length;t++)this.s.states[t].s.identifier===e&&(this.s.states.splice(t,1),t--);return this._collectionRebuild(),!0},e.prototype._newModal=function(e,t,s,o){var a=this;this.dom.background.appendTo(this.dom.dtContainer),this.dom.confirmationTitleRow.empty().append(e);var n=i('<button class="'+this.classes.confirmationButton+" "+this.classes.dtButton+'">'+t+"</button>");this.dom.confirmation.empty().append(this.dom.confirmationTitleRow).append(o).append(i('<div class="'+this.classes.confirmationButtons+'"></div>').append(n)).appendTo(this.dom.dtContainer),i(this.s.dt.table().node()).trigger("dtsr-modal-inserted");var r=o.children("input");r.length>0?i(r[0]).focus():n.focus();var c=i("div."+this.classes.background.replace(/ /g,".")),l=function(e){"Enter"===e.key?n.click():"Escape"===e.key&&c.click()};n.on("click",(function(){var e=s(!0);!0===e?(a.dom.background.remove(),a.dom.confirmation.remove(),i(document).unbind("keyup",l),n.off("click")):(a.dom.confirmation.children("."+a.classes.modalError).remove(),a.dom.confirmation.append(a.dom[e+"Error"]))})),this.dom.confirmation.on("click",(function(e){e.stopPropagation()})),c.one("click",(function(){a.dom.background.remove(),a.dom.confirmation.remove(),i(document).unbind("keyup",l)})),i(document).on("keyup",l)},e.prototype._searchForStates=function(){for(var e=this,t=Object.keys(localStorage),s=function(t){if(t.match(new RegExp("^DataTables_stateRestore_.*_"+location.pathname+"$"))||t.match(new RegExp("^DataTables_stateRestore_.*_"+location.pathname+"_"+o.s.dt.table().node().id+"$"))){var s=JSON.parse(localStorage.getItem(t));if(s.stateRestore.isPreDefined||s.stateRestore.tableId&&s.stateRestore.tableId!==o.s.dt.table().node().id)return"continue";var a=o,r=new n(o.s.dt,i.extend(!0,{},o.c,{saveState:s.c.saveState}),s.stateRestore.state,s,!1,(function(){this.s.savedState=s,a.s.states.push(this),a._collectionRebuild()}));i(o.s.dt.table().node()).on("dtsr-modal-inserted",(function(){r.dom.confirmation.one("dtsr-remove",(function(){return e._removeCallback(r.s.identifier)})),r.dom.confirmation.one("dtsr-rename",(function(){return e._collectionRebuild()})),r.dom.confirmation.one("dtsr-save",(function(){return e._collectionRebuild()}))}))}},o=this,a=0,r=t;a<r.length;a++){s(r[a])}},e.version="1.0.0",e.classes={background:"dtsr-background",checkBox:"dtsr-check-box",checkLabel:"dtsr-check-label",checkRow:"dtsr-check-row",closeButton:"dtsr-popover-close",colReorderToggle:"dtsr-colReorder-toggle",columnsSearchToggle:"dtsr-columns-search-toggle",columnsVisibleToggle:"dtsr-columns-visible-toggle",confirmation:"dtsr-confirmation",confirmationButton:"dtsr-confirmation-button",confirmationButtons:"dtsr-confirmation-buttons",confirmationMessage:"dtsr-confirmation-message dtsr-name-label",confirmationText:"dtsr-confirmation-text",confirmationTitle:"dtsr-confirmation-title",confirmationTitleRow:"dtsr-confirmation-title-row",creation:"dtsr-creation",creationButton:"dtsr-creation-button",creationForm:"dtsr-creation-form",creationText:"dtsr-creation-text",creationTitle:"dtsr-creation-title",dtButton:"dt-button",emptyStates:"dtsr-emptyStates",formRow:"dtsr-form-row",leftSide:"dtsr-left",lengthToggle:"dtsr-length-toggle",modalError:"dtsr-modal-error",modalFoot:"dtsr-modal-foot",nameInput:"dtsr-name-input",nameLabel:"dtsr-name-label",orderToggle:"dtsr-order-toggle",pagingToggle:"dtsr-paging-toggle",rightSide:"dtsr-right",scrollerToggle:"dtsr-scroller-toggle",searchBuilderToggle:"dtsr-searchBuilder-toggle",searchPanesToggle:"dtsr-searchPanes-toggle",searchToggle:"dtsr-search-toggle",selectToggle:"dtsr-select-toggle",toggleLabel:"dtsr-toggle-title"},e.defaults={_createInSaved:!1,ajax:!1,create:!0,creationModal:!1,i18n:{creationModal:{button:"Create",colReorder:"Column Order",columns:{search:"Column Search",visible:"Column Visibility"},length:"Page Length",name:"Name:",order:"Sorting",paging:"Paging",scroller:"Scroll Position",search:"Search",searchBuilder:"SearchBuilder",searchPanes:"SearchPanes",select:"Select",title:"Create New State",toggleLabel:"Include:"},duplicateError:"A state with this name already exists.",emptyError:"Name cannot be empty.",emptyStates:"No saved states",removeConfirm:"Are you sure you want to remove %s?",removeError:"Failed to remove state.",removeJoiner:" and ",removeSubmit:"Remove",removeTitle:"Remove State",renameButton:"Rename",renameLabel:"New Name for %s:",renameTitle:"Rename State"},modalCloseButton:!0,preDefined:{},remove:!0,rename:!0,save:!0,saveState:{colReorder:!0,columns:{search:!0,visible:!0},length:!0,order:!0,paging:!0,scroller:!0,search:!0,searchBuilder:!0,searchPanes:!0,select:!0},splitSecondaries:["updateState","renameState","removeState"],toggle:{colReorder:!1,columns:{search:!1,visible:!1},length:!1,order:!1,paging:!1,scroller:!1,search:!1,searchBuilder:!1,searchPanes:!1,select:!1}},e}();
/*! StateRestore 1.4.1
     * © SpryMedia Ltd - datatables.net/license
     */e=r=s,o=r.fn.dataTable,function(e){i=e,a=e.fn.dataTable}(s),s.fn.dataTable.StateRestore=n,s.fn.DataTable.StateRestore=n,s.fn.dataTable.StateRestoreCollection=c,s.fn.DataTable.StateRestoreCollection=c;var l=t.Api.register;function d(e,s){h(e,new t.StateRestoreCollection(e,s.config))}function h(e,t){var o,i=e.stateRestore.states(),a=e.button("SaveStateRestore:name"),r=[];if(a[0]){var c=a.index().split("-");for(r=a[0].inst.c.buttons,o=0;o<c.length;o++){if(!r[c[o]].buttons){r=[];break}r=r[c[o]].buttons}}var l=e.settings()[0]._stateRestore.c;for(o=0;o<r.length;o++)"stateRestore"===r[o].extend&&(r.splice(o,1),o--);if(l._createInSaved&&r.push("createState"),void 0===i||0===i.length)r.push('<span class="'+t.classes.emptyStates+'">'+e.i18n("stateRestore.emptyStates",t.c.i18n.emptyStates)+"</span>");else for(var d=0,h=i;d<h.length;d++){var u=h[d],m=l.splitSecondaries.slice();m.includes("updateState")&&!l.save&&m.splice(m.indexOf("updateState"),1),!m.includes("renameState")||l.save&&l.rename||m.splice(m.indexOf("renameState"),1),m.includes("removeState")&&!l.remove&&m.splice(m.indexOf("removeState"),1),r.push({_stateRestore:u,attr:{title:u.s.identifier},config:{split:m},extend:"stateRestore",text:n.entityEncode(u.s.identifier),popoverTitle:n.entityEncode(u.s.identifier)})}e.button("SaveStateRestore:name").collectionRebuild(r);for(var v=0,g=e.buttons();v<g.length;v++){var f=g[v];s(f.node).hasClass("dtsr-removeAllStates")&&(0===i.length?e.button(f.node).disable():e.button(f.node).enable())}}l("stateRestore()",(function(){return this})),l("stateRestore.state()",(function(e){var s=this.context[0];if(!s._stateRestore){var o=t.Api(s);h(o,new t.StateRestoreCollection(o,{}))}return this[0]=s._stateRestore.getState(e),this})),l("stateRestore.state.add()",(function(e,s){var o=this.context[0];if(!o._stateRestore){var i=t.Api(o);h(i,new t.StateRestoreCollection(i,{}))}if(!o._stateRestore.c.create)return this;if(o._stateRestore.addState){for(var a=[],n=0,r=o._stateRestore.s.states;n<r.length;n++){var c=r[n];a.push(c.s.identifier)}return o._stateRestore.addState(e,a,s),this}})),l("stateRestore.states()",(function(e){var s=this.context[0];if(!s._stateRestore){var o=t.Api(s);h(o,new t.StateRestoreCollection(o,{}))}return this.length=0,this.push.apply(this,s._stateRestore.getStates(e)),this})),l("stateRestore.state().save()",(function(){var e=this[0];return e.c.save&&e.save(),this})),l("stateRestore.state().rename()",(function(e){var t=this.context[0],s=this[0];if(s.c.save){for(var o=[],i=0,a=t._stateRestore.s.states;i<a.length;i++){var n=a[i];o.push(n.s.identifier)}s.rename(e,o)}return this})),l("stateRestore.state().load()",(function(){return this[0].load(),this})),l("stateRestore.state().remove()",(function(e){var t=this[0];return t.c.remove&&t.remove(e),this})),l("stateRestore.states().remove()",(function(e){var t=this,s=function(e){for(var s=!0,o=t.toArray();o.length>0;){var i=o[0];if(void 0===i||!i.c.remove)break;var a=i.remove(e);!0!==a?s=a:o.splice(0,1)}return s};return this.context[0]._stateRestore&&this.context[0]._stateRestore.c.remove&&(e?s(e):this.context[0]._stateRestore.removeAll(s)),this})),l("stateRestore.activeStates()",(function(){var e=this.context[0];if(this.length=0,!e._stateRestore){var s=t.Api(e);h(s,new t.StateRestoreCollection(s,{}))}return e._stateRestore&&this.push.apply(this,e._stateRestore.findActive()),this})),t.ext.buttons.stateRestore={action:function(e,t,s,o){o._stateRestore.load(),s.blur()},className:"dtsr-state",config:{split:["updateState","renameState","removeState"]},text:function(e){return e.i18n("buttons.stateRestore","State %d",e.stateRestore.states()[0].length+1)}},t.ext.buttons.updateState={action:function(e,t,o,i){s("div.dt-button-background").click(),i.parent._stateRestore.save()},text:function(e){return e.i18n("buttons.updateState","Update")}},t.ext.buttons.savedStates={buttons:[],extend:"collection",init:function(e,t,s){e.on("stateRestore-change",(function(){e.button(t).text(e.i18n("buttons.savedStates","Saved States",e.stateRestore.states().length))})),void 0===e.settings()[0]._stateRestore&&d(e,s)},name:"SaveStateRestore",text:function(e){return e.i18n("buttons.savedStates","Saved States",0)}},t.ext.buttons.savedStatesCreate={buttons:[],extend:"collection",init:function(e,t,s){e.on("stateRestore-change",(function(){e.button(t).text(e.i18n("buttons.savedStates","Saved States",e.stateRestore.states().length))})),void 0===e.settings()[0]._stateRestore&&(void 0===s.config&&(s.config={}),s.config._createInSaved=!0,d(e,s))},name:"SaveStateRestore",text:function(e){return e.i18n("buttons.savedStates","Saved States",0)}},t.ext.buttons.createState={action:function(e,t,o,i){e.stopPropagation();var a=t.settings()[0]._stateRestore.c,r=t.settings()[0].oLanguage;if(a.create&&a.save){var c,l=t.stateRestore.states().toArray(),d=void 0!==r.buttons&&void 0!==r.buttons.stateRestore?r.buttons.stateRestore:"State ";if(d.indexOf("%d")===d.length-3)c=new RegExp(d.replace(/%d/g,""));else{var h=d.split("%d");c=[];for(var u=0,m=h;u<m.length;u++){var v=m[u];c.push(new RegExp(v))}}var g=function(e){var t;if(Array.isArray(c)){t=e;for(var s=0,o=c;s<o.length;s++){var i=o[s];t=t.replace(i,"")}}else t=e.replace(c,"");return isNaN(+t)||t.length===e?0:+t},f=l.map((function(e){return g(e.s.identifier)})).sort((function(e,t){return+e<+t?1:+e>+t?-1:0})),p=f[0];t.stateRestore.state.add(t.i18n("buttons.stateRestore","State %d",void 0!==p?p+1:1),i.config);for(var b=t.stateRestore.states().sort((function(e,t){var s=+g(e.s.identifier),o=+g(t.s.identifier);return s>o?1:s<o?-1:0})),S=t.button("SaveStateRestore:name"),R=void 0!==S[0]&&void 0!==S[0].inst.c.buttons[0].buttons?S[0].inst.c.buttons[0].buttons:[],y=0;y<R.length;y++)"stateRestore"===R[y].extend&&(R.splice(y,1),y--);a._createInSaved&&R.push("createState");for(var k=0,x=b;k<x.length;k++){var T=x[k],_=a.splitSecondaries.slice();_.includes("updateState")&&!a.save&&_.splice(_.indexOf("updateState"),1),!_.includes("renameState")||a.save&&a.rename||_.splice(_.indexOf("renameState"),1),_.includes("removeState")&&!a.remove&&_.splice(_.indexOf("removeState"),1),R.push({_stateRestore:T,attr:{title:T.s.identifier},config:{split:_},extend:"stateRestore",text:n.entityEncode(T.s.identifier),popoverTitle:n.entityEncode(T.s.identifier)})}t.button("SaveStateRestore:name").collectionRebuild(R),o.blur();for(var B=0,w=t.buttons();B<w.length;B++){var E=w[B];s(E.node).hasClass("dtsr-removeAllStates")&&(0===b.length?t.button(E.node).disable():t.button(E.node).enable())}}},init:function(e,t,s){void 0===e.settings()[0]._stateRestore&&e.button("SaveStateRestore:name").length>1&&d(e,s)},text:function(e){return e.i18n("buttons.createState","Create State")}},t.ext.buttons.removeState={action:function(e,t,s,o){o.parent._stateRestore.remove(),s.blur()},text:function(e){return e.i18n("buttons.removeState","Remove")}},t.ext.buttons.removeAllStates={action:function(e,t,s){t.stateRestore.states().remove(!0),s.blur()},className:"dt-button dtsr-removeAllStates",init:function(e,t){e.settings()[0]._stateRestore&&0!==e.stateRestore.states().length||s(t).addClass("disabled")},text:function(e){return e.i18n("buttons.removeAllStates","Remove All States")}},t.ext.buttons.renameState={action:function(e,t,s,o){for(var i=[],a=0,n=t.settings()[0]._stateRestore.s.states;a<n.length;a++){var r=n[a];i.push(r.s.identifier)}o.parent._stateRestore.rename(void 0,i),s.blur()},text:function(e){return e.i18n("buttons.renameState","Rename")}},s(document).on("preInit.dt.dtsr",(function(e,s){"dt"===e.namespace&&(s.oInit.stateRestore||t.defaults.stateRestore)&&(s._stateRestore||function(e,s){void 0===s&&(s=null);var o=new t.Api(e),i=s||o.init().stateRestore||t.defaults.stateRestore,a=new c(o,i);h(o,a)}(s,null))}))}();
