/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/datatables.net-datetime@1.5.5/dist/dataTables.dateTime.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import t from"jquery";
/*! DateTime picker for DataTables.net v1.5.5
 *
 * Â© SpryMedia Ltd, all rights reserved.
 * License: MIT datatables.net/license/mit
 */
let e=t;var s,i=function(t,n){if(i.factory(t,n))return i;void 0===s&&(s=window.moment?window.moment:window.dayjs?window.dayjs:window.luxon?window.luxon:null),this.c=e.extend(!0,{},i.defaults,n);var a=this.c.classPrefix;if(!s&&"YYYY-MM-DD"!==this.c.format)throw"DateTime: Without momentjs, dayjs or luxon only the format 'YYYY-MM-DD' can be used";"string"==typeof this.c.minDate&&(this.c.minDate=new Date(this.c.minDate)),"string"==typeof this.c.maxDate&&(this.c.maxDate=new Date(this.c.maxDate));var o=e('<div class="'+a+'"><div class="'+a+'-date"><div class="'+a+'-title"><div class="'+a+'-iconLeft"><button type="button"></button></div><div class="'+a+'-iconRight"><button type="button"></button></div><div class="'+a+'-label"><span></span><select class="'+a+'-month"></select></div><div class="'+a+'-label"><span></span><select class="'+a+'-year"></select></div></div><div class="'+a+'-buttons"><a class="'+a+'-clear"></a><a class="'+a+'-today"></a></div><div class="'+a+'-calendar"></div></div><div class="'+a+'-time"><div class="'+a+'-hours"></div><div class="'+a+'-minutes"></div><div class="'+a+'-seconds"></div></div><div class="'+a+'-error"></div></div>');this.dom={container:o,date:o.find("."+a+"-date"),title:o.find("."+a+"-title"),calendar:o.find("."+a+"-calendar"),time:o.find("."+a+"-time"),error:o.find("."+a+"-error"),buttons:o.find("."+a+"-buttons"),clear:o.find("."+a+"-clear"),today:o.find("."+a+"-today"),previous:o.find("."+a+"-iconLeft"),next:o.find("."+a+"-iconRight"),input:e(t)},this.s={d:null,display:null,minutesRange:null,secondsRange:null,namespace:"dateime-"+i._instance++,parts:{date:null!==this.c.format.match(/[YMD]|L(?!T)|l/),time:null!==this.c.format.match(/[Hhm]|LT|LTS/),seconds:-1!==this.c.format.indexOf("s"),hours12:null!==this.c.format.match(/[haA]/)},showTo:null},this.dom.container.append(this.dom.date).append(this.dom.time).append(this.dom.error),this.dom.date.append(this.dom.title).append(this.dom.buttons).append(this.dom.calendar),this.dom.input.addClass("dt-datetime"),this._constructor()};e.extend(i.prototype,{destroy:function(){clearTimeout(this.s.showTo),this._hide(!0),this.dom.container.off().empty(),this.dom.input.removeClass("dt-datetime").removeAttr("autocomplete").off(".datetime")},display:function(t,e){return void 0!==t&&this.s.display.setUTCFullYear(t),void 0!==e&&this.s.display.setUTCMonth(e-1),void 0!==t||void 0!==e?(this._setTitle(),this._setCalander(),this):{month:this.s.display.getUTCMonth()+1,year:this.s.display.getUTCFullYear()}},errorMsg:function(t){var e=this.dom.error;return t?e.html(t):e.empty(),this},hide:function(){return this._hide(),this},max:function(t){return this.c.maxDate="string"==typeof t?new Date(t):t,this._optionsTitle(),this._setCalander(),this},min:function(t){return this.c.minDate="string"==typeof t?new Date(t):t,this._optionsTitle(),this._setCalander(),this},owns:function(t){return e(t).parents().filter(this.dom.container).length>0},val:function(t,e){if(void 0===t)return this.s.d;var s=this.s.d;return t instanceof Date?this.s.d=this._dateToUtc(t):null===t||""===t?this.s.d=null:"--now"===t?this.s.d=this._dateToUtc(new Date):"string"==typeof t&&(this.s.d=this._dateToUtc(this._convert(t,this.c.format,null))),(e||void 0===e)&&(this.s.d?this._writeOutput(!1,null===s&&null!==this.s.d||null!==s&&null===this.s.d||s.toString()!==this.s.d.toString()):this.dom.input.val(t)),this.s.display=this.s.d?new Date(this.s.d.toString()):new Date,this.s.display.setUTCDate(1),this._setTitle(),this._setCalander(),this._setTime(),this},valFormat:function(t,e){return e?(this.val(this._convert(e,t,null)),this):this._convert(this.val(),null,t)},_constructor:function(){var t=this,s=this.c.classPrefix,i=this.dom.input.val(),n=function(){var e=t.dom.input.val();e!==i&&(t.c.onChange.call(t,e,t.s.d,t.dom.input),i=e)};this.s.parts.date||this.dom.date.css("display","none"),this.s.parts.time||this.dom.time.css("display","none"),this.s.parts.seconds||(this.dom.time.children("div."+s+"-seconds").remove(),this.dom.time.children("span").eq(1).remove()),this.c.buttons.clear||this.dom.clear.css("display","none"),this.c.buttons.today||this.dom.today.css("display","none"),this._optionsTitle(),e(document).on("i18n.dt",(function(s,i){i.oLanguage.datetime&&(e.extend(!0,t.c.i18n,i.oLanguage.datetime),t._optionsTitle())})),"hidden"===this.dom.input.attr("type")&&(this.dom.container.addClass("inline"),this.c.attachTo="input",this.val(this.dom.input.val(),!1),this._show()),i&&this.val(i,!1),this.dom.input.attr("autocomplete","off").on("focus.datetime click.datetime",(function(){t.dom.container.is(":visible")||t.dom.input.is(":disabled")||(t.val(t.dom.input.val(),!1),t._show())})).on("keyup.datetime",(function(){t.dom.container.is(":visible")&&t.val(t.dom.input.val(),!1)})),this.dom.container[0].addEventListener("focusin",(function(t){t.stopPropagation()})),this.dom.container.on("change","select",(function(){var i=e(this),a=i.val();if(i.hasClass(s+"-month"))t._correctMonth(t.s.display,a),t._setTitle(),t._setCalander();else if(i.hasClass(s+"-year"))t.s.display.setUTCFullYear(a),t._setTitle(),t._setCalander();else if(i.hasClass(s+"-hours")||i.hasClass(s+"-ampm")){if(t.s.parts.hours12){var o=1*e(t.dom.container).find("."+s+"-hours").val(),r="pm"===e(t.dom.container).find("."+s+"-ampm").val();t.s.d.setUTCHours(12!==o||r?r&&12!==o?o+12:o:0)}else t.s.d.setUTCHours(a);t._setTime(),t._writeOutput(!0),n()}else i.hasClass(s+"-minutes")?(t.s.d.setUTCMinutes(a),t._setTime(),t._writeOutput(!0),n()):i.hasClass(s+"-seconds")&&(t.s.d.setSeconds(a),t._setTime(),t._writeOutput(!0),n());t.dom.input.focus(),t._position()})).on("click",(function(i){var a=t.s.d,o=i.target.nodeName.toLowerCase(),r="span"===o?i.target.parentNode:i.target;if("select"!==(o=r.nodeName.toLowerCase()))if(i.stopPropagation(),"a"===o&&(i.preventDefault(),e(r).hasClass(s+"-clear")?(t.s.d=null,t.dom.input.val(""),t._writeOutput(),t._setCalander(),t._setTime(),n()):e(r).hasClass(s+"-today")&&(t.s.display=new Date,t._setTitle(),t._setCalander())),"button"===o){var d=e(r),l=d.parent();if(l.hasClass("disabled")&&!l.hasClass("range"))return void d.blur();if(l.hasClass(s+"-iconLeft"))t.s.display.setUTCMonth(t.s.display.getUTCMonth()-1),t._setTitle(),t._setCalander(),t.dom.input.focus();else if(l.hasClass(s+"-iconRight"))t._correctMonth(t.s.display,t.s.display.getUTCMonth()+1),t._setTitle(),t._setCalander(),t.dom.input.focus();else if(d.parents("."+s+"-time").length){var h=d.data("value"),u=d.data("unit");if(a=t._needValue(),"minutes"===u){if(l.hasClass("disabled")&&l.hasClass("range"))return t.s.minutesRange=h,void t._setTime();t.s.minutesRange=null}if("seconds"===u){if(l.hasClass("disabled")&&l.hasClass("range"))return t.s.secondsRange=h,void t._setTime();t.s.secondsRange=null}if("am"===h){if(!(a.getUTCHours()>=12))return;h=a.getUTCHours()-12}else if("pm"===h){if(!(a.getUTCHours()<12))return;h=a.getUTCHours()+12}a["hours"===u?"setUTCHours":"minutes"===u?"setUTCMinutes":"setSeconds"](h),t._setCalander(),t._setTime(),t._writeOutput(!0),n()}else(a=t._needValue()).setUTCDate(1),a.setUTCFullYear(d.data("year")),a.setUTCMonth(d.data("month")),a.setUTCDate(d.data("day")),t._writeOutput(!0),t.s.parts.time?(t._setCalander(),t._setTime()):setTimeout((function(){t._hide()}),10),n()}else t.dom.input.focus()}))},_compareDates:function(t,e){return this._isLuxon()?s.DateTime.fromJSDate(t).toUTC().toISODate()===s.DateTime.fromJSDate(e).toUTC().toISODate():this._dateToUtcString(t)===this._dateToUtcString(e)},_convert:function(t,e,i){if(!t)return t;if(s){if(this._isLuxon()){var n=t instanceof Date?s.DateTime.fromJSDate(t).toUTC():s.DateTime.fromFormat(t,e);return n.isValid?i?n.toFormat(i):n.toJSDate():null}var a=t instanceof Date?s.utc(t,void 0,this.c.locale,this.c.strict):s(t,e,this.c.locale,this.c.strict);return a.isValid()?i?a.format(i):a.toDate():null}if(!e&&!i||e&&i)return t;if(e){var o=t.match(/(\d{4})\-(\d{2})\-(\d{2})/);return o?new Date(o[1],o[2]-1,o[3]):null}return t.getUTCFullYear()+"-"+this._pad(t.getUTCMonth()+1)+"-"+this._pad(t.getUTCDate())},_correctMonth:function(t,e){var s=this._daysInMonth(t.getUTCFullYear(),e),i=t.getUTCDate()>s;t.setUTCMonth(e),i&&(t.setUTCDate(s),t.setUTCMonth(e))},_daysInMonth:function(t,e){return[31,t%4==0&&(t%100!=0||t%400==0)?29:28,31,30,31,30,31,31,30,31,30,31][e]},_dateToUtc:function(t){return t?new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())):t},_dateToUtcString:function(t){return this._isLuxon()?s.DateTime.fromJSDate(t).toUTC().toISODate():t.getUTCFullYear()+"-"+this._pad(t.getUTCMonth()+1)+"-"+this._pad(t.getUTCDate())},_hide:function(t){if(t||"hidden"!==this.dom.input.attr("type")){var s=this.s.namespace;this.dom.container.detach(),e(window).off("."+s),e(document).off("keydown."+s),e("div.dataTables_scrollBody").off("scroll."+s),e("div.DTE_Body_Content").off("scroll."+s),e(document).off("click."+s),e(this.dom.input[0].offsetParent).off("."+s)}},_hours24To12:function(t){return 0===t?12:t>12?t-12:t},_htmlDay:function(t){if(t.empty)return'<td class="empty"></td>';var e=["selectable"],s=this.c.classPrefix;return t.disabled&&e.push("disabled"),t.today&&e.push("now"),t.selected&&e.push("selected"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'"><button class="'+s+"-button "+s+'-day" type="button" data-year="'+t.year+'" data-month="'+t.month+'" data-day="'+t.day+'"><span>'+t.day+"</span></button></td>"},_htmlMonth:function(t,s){var i=this._dateToUtc(new Date),n=this._daysInMonth(t,s),a=new Date(Date.UTC(t,s,1)).getUTCDay(),o=[],r=[];this.c.firstDay>0&&(a-=this.c.firstDay)<0&&(a+=7);for(var d=n+a,l=d;l>7;)l-=7;d+=7-l;var h=this.c.minDate,u=this.c.maxDate;h&&(h.setUTCHours(0),h.setUTCMinutes(0),h.setSeconds(0)),u&&(u.setUTCHours(23),u.setUTCMinutes(59),u.setSeconds(59));for(var c=0,m=0;c<d;c++){var f=new Date(Date.UTC(t,s,c-a+1)),p=!!this.s.d&&this._compareDates(f,this.s.d),v=this._compareDates(f,i),T=c<a||c>=n+a,y=h&&f<h||u&&f>u,_=this.c.disableDays;(Array.isArray(_)&&-1!==e.inArray(f.getUTCDay(),_)||"function"==typeof _&&!0===_(f))&&(y=!0);var D={day:c-a+1,month:s,year:t,selected:p,today:v,disabled:y,empty:T};r.push(this._htmlDay(D)),7==++m&&(this.c.showWeekNumber&&r.unshift(this._htmlWeekOfYear(c-a,s,t)),o.push("<tr>"+r.join("")+"</tr>"),r=[],m=0)}var C=this.c.classPrefix,g=C+"-table";if(this.c.showWeekNumber&&(g+=" weekNumber"),h){var w=h>=new Date(Date.UTC(t,s,1,0,0,0));this.dom.title.find("div."+C+"-iconLeft").css("display",w?"none":"block")}if(u){var b=u<new Date(Date.UTC(t,s+1,1,0,0,0));this.dom.title.find("div."+C+"-iconRight").css("display",b?"none":"block")}return'<table class="'+g+'"><thead>'+this._htmlMonthHead()+"</thead><tbody>"+o.join("")+"</tbody></table>"},_htmlMonthHead:function(){var t=[],e=this.c.firstDay,s=this.c.i18n,i=function(t){for(t+=e;t>=7;)t-=7;return s.weekdays[t]};this.c.showWeekNumber&&t.push("<th></th>");for(var n=0;n<7;n++)t.push("<th>"+i(n)+"</th>");return t.join("")},_htmlWeekOfYear:function(t,e,s){var i=new Date(s,e,t,0,0,0,0);i.setDate(i.getDate()+4-(i.getDay()||7));var n=new Date(s,0,1),a=Math.ceil(((i-n)/864e5+1)/7);return'<td class="'+this.c.classPrefix+'-week">'+a+"</td>"},_isLuxon:function(){return!!(s&&s.DateTime&&s.Duration&&s.Settings)},_needValue:function(){return this.s.d||(this.s.d=this._dateToUtc(new Date),this.s.parts.time||(this.s.d.setUTCHours(0),this.s.d.setUTCMinutes(0),this.s.d.setSeconds(0),this.s.d.setMilliseconds(0))),this.s.d},_options:function(t,e,s){s||(s=e);var i=this.dom.container.find("select."+this.c.classPrefix+"-"+t);i.empty();for(var n=0,a=e.length;n<a;n++)i.append('<option value="'+e[n]+'">'+s[n]+"</option>")},_optionSet:function(t,e){var s=this.dom.container.find("select."+this.c.classPrefix+"-"+t),i=s.parent().children("span");s.val(e);var n=s.find("option:selected");i.html(0!==n.length?n.text():this.c.i18n.unknown)},_optionsTime:function(t,s,i,n,a){var o,r,d=this.c.classPrefix,l=this.dom.container.find("div."+d+"-"+t),h=12===s?function(t){return t}:this._pad,u=d+"-table",c=this.c.i18n;if(l.length){var m="",f=10,p=function(a,o,r){12===s&&"number"==typeof a&&(i>=12&&(a+=12),12==a?a=0:24==a&&(a=12));var l=i===a||"am"===a&&i<12||"pm"===a&&i>=12?"selected":"";return"number"==typeof a&&n&&-1===e.inArray(a,n)&&(l+=" disabled"),r&&(l+=" "+r),'<td class="selectable '+l+'"><button class="'+d+"-button "+d+'-day" type="button" data-unit="'+t+'" data-value="'+a+'"><span>'+o+"</span></button></td>"};if(12===s){for(m+="<tr>",o=1;o<=6;o++)m+=p(o,h(o));for(m+=p("am",c.amPm[0]),m+="</tr>",m+="<tr>",o=7;o<=12;o++)m+=p(o,h(o));m+=p("pm",c.amPm[1]),m+="</tr>",f=7}else if(24===s){var v=0;for(r=0;r<4;r++){for(m+="<tr>",o=0;o<6;o++)m+=p(v,h(v)),v++;m+="</tr>"}f=6}else{for(m+="<tr>",r=0;r<60;r+=10)m+=p(r,h(r),"range");m+="</tr>",m+='</tbody></thead><table class="'+u+" "+u+'-nospace"><tbody>';var T=null!==a?a:-1===i?0:10*Math.floor(i/10);for(m+="<tr>",r=T+1;r<T+10;r++)m+=p(r,h(r));m+="</tr>",f=6}l.empty().append('<table class="'+u+'"><thead><tr><th colspan="'+f+'">'+c[t]+"</th></tr></thead><tbody>"+m+"</tbody></table>")}},_optionsTitle:function(){var t=this.c.i18n,e=this.c.minDate,s=this.c.maxDate,i=e?e.getFullYear():null,n=s?s.getFullYear():null,a=null!==i?i:(new Date).getFullYear()-this.c.yearRange,o=null!==n?n:(new Date).getFullYear()+this.c.yearRange;this._options("month",this._range(0,11),t.months),this._options("year",this._range(a,o)),this.dom.today.text(t.today).text(t.today),this.dom.clear.text(t.clear).text(t.clear),this.dom.previous.attr("title",t.previous).children("button").text(t.previous),this.dom.next.attr("title",t.next).children("button").text(t.next)},_pad:function(t){return t<10?"0"+t:t},_position:function(){var t="input"===this.c.attachTo?this.dom.input.position():this.dom.input.offset(),s=this.dom.container,i=this.dom.input.outerHeight();if(s.hasClass("inline"))s.insertAfter(this.dom.input);else{this.s.parts.date&&this.s.parts.time&&e(window).width()>550?s.addClass("horizontal"):s.removeClass("horizontal"),"input"===this.c.attachTo?s.css({top:t.top+i,left:t.left}).insertAfter(this.dom.input):s.css({top:t.top+i,left:t.left}).appendTo("body");var n=s.outerHeight(),a=s.outerWidth(),o=e(window).scrollTop();if(t.top+i+n-o>e(window).height()){var r=t.top-n;s.css("top",r<0?0:r)}if(a+t.left>e(window).width()){var d=e(window).width()-a-5;"input"===this.c.attachTo&&(d-=e(s).offsetParent().offset().left),s.css("left",d<0?0:d)}}},_range:function(t,e,s){var i=[];s||(s=1);for(var n=t;n<=e;n+=s)i.push(n);return i},_setCalander:function(){this.s.display&&this.dom.calendar.empty().append(this._htmlMonth(this.s.display.getUTCFullYear(),this.s.display.getUTCMonth()))},_setTitle:function(){this._optionSet("month",this.s.display.getUTCMonth()),this._optionSet("year",this.s.display.getUTCFullYear())},_setTime:function(){var t=this,e=this.s.d,i=null;this._isLuxon()&&(i=s.DateTime.fromJSDate(e).toUTC());var n=null!=i?i.hour:e?e.getUTCHours():-1,a=function(e){return t.c[e+"Available"]?t.c[e+"Available"]:t._range(0,59,t.c[e+"Increment"])};this._optionsTime("hours",this.s.parts.hours12?12:24,n,this.c.hoursAvailable),this._optionsTime("minutes",60,null!=i?i.minute:e?e.getUTCMinutes():-1,a("minutes"),this.s.minutesRange),this._optionsTime("seconds",60,null!=i?i.second:e?e.getSeconds():-1,a("seconds"),this.s.secondsRange)},_show:function(){var t=this,s=this.s.namespace;this._position(),e(window).on("scroll."+s+" resize."+s,(function(){t._position()})),e("div.DTE_Body_Content").on("scroll."+s,(function(){t._position()})),e("div.dataTables_scrollBody").on("scroll."+s,(function(){t._position()}));var i=this.dom.input[0].offsetParent;i!==document.body&&e(i).on("scroll."+s,(function(){t._position()})),e(document).on("keydown."+s,(function(e){9!==e.keyCode&&27!==e.keyCode&&13!==e.keyCode||t._hide()})),clearTimeout(this.s.showTo),this.dom.input.on("blur",(function(e){t.s.showTo=setTimeout((function(){let e=document.activeElement.tagName.toLowerCase();document.activeElement!==t.dom.input[0]&&(t.dom.container.find(document.activeElement).length||["input","select","button"].includes(e)&&t.hide())}),10)})),setTimeout((function(){e(document).on("click."+s,(function(s){e(s.target).parents().filter(t.dom.container).length||s.target===t.dom.input[0]||t._hide()}))}),10)},_writeOutput:function(t,e){var s=this.s.d,i="",n=this.dom.input;if(s&&(i=this._convert(s,null,this.c.format)),n.val(i),void 0===e||e){var a=new Event("change",{bubbles:!0});n[0].dispatchEvent(a)}"hidden"===n.attr("type")&&this.val(i,!1),t&&n.focus()}}),i.use=function(t){s=t},i._instance=0,i.type="DateTime",i.defaults={attachTo:"body",buttons:{clear:!1,today:!1},classPrefix:"dt-datetime",disableDays:null,firstDay:1,format:"YYYY-MM-DD",hoursAvailable:null,i18n:{clear:"Clear",previous:"Previous",next:"Next",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],amPm:["am","pm"],hours:"Hour",minutes:"Minute",seconds:"Second",unknown:"-",today:"Today"},maxDate:null,minDate:null,minutesAvailable:null,minutesIncrement:1,strict:!0,locale:"en",onChange:function(){},secondsAvailable:null,secondsIncrement:1,showWeekNumber:!1,yearRange:25},i.version="1.5.5",i.factory=function(t,s){var i=!1;return t&&t.document&&(window=t,document=t.document),s&&s.fn&&s.fn.jquery&&(e=s,i=!0),i},window.DateTime||(window.DateTime=i),window.DataTable&&(window.DataTable.DateTime=i),e.fn.dtDateTime=function(t){return this.each((function(){new i(this,t)}))},e.fn.dataTable&&(e.fn.dataTable.DateTime=i,e.fn.DataTable.DateTime=i,e.fn.dataTable.Editor&&(e.fn.dataTable.Editor.DateTime=i));export{i as default};
