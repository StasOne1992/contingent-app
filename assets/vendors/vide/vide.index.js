/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/vide@0.5.1/dist/jquery.vide.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import e from"jquery";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t={};!function(e){var t="vide",o={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"detect",resizing:!0,bgColor:"transparent",className:""},i="Not implemented";function n(e){var t,o,i,n,s,r,a,p={};for(a=0,r=(s=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(",")).length;a<r&&-1===(o=s[a]).search(/^(http|https|ftp):\/\//)&&-1!==o.search(":");a++)t=o.indexOf(":"),i=o.substring(0,t),(n=o.substring(t+1))||(n=void 0),"string"==typeof n&&(n="true"===n||"false"!==n&&n),"string"==typeof n&&(n=isNaN(n)?n:+n),p[i]=n;return null==i&&null==n?e:p}function s(e){var t,o,i,n=(e=""+e).split(/\s+/),s="50%",r="50%";for(i=0,t=n.length;i<t;i++)"left"===(o=n[i])?s="0%":"right"===o?s="100%":"top"===o?r="0%":"bottom"===o?r="100%":"center"===o?0===i?s="50%":r="50%":0===i?s=o:r=o;return{x:s,y:r}}function r(t,o){var i=function(){o(this.src)};e('<img src="'+t+'.gif">').on("load",i),e('<img src="'+t+'.jpg">').on("load",i),e('<img src="'+t+'.jpeg">').on("load",i),e('<img src="'+t+'.png">').on("load",i)}function a(t,s,r){if(this.$element=e(t),"string"==typeof s&&(s=n(s)),r?"string"==typeof r&&(r=n(r)):r={},"string"==typeof s)s=s.replace(/\.\w*$/,"");else if("object"==typeof s)for(var a in s)s.hasOwnProperty(a)&&(s[a]=s[a].replace(/\.\w*$/,""));this.settings=e.extend({},o,r),this.path=s;try{this.init()}catch(e){if(e.message!==i)throw e}}a.prototype.init=function(){var o,n,a=this,p=a.path,c=p,d="",u=a.$element,l=a.settings,f=s(l.position),g=l.posterType;n=a.$wrapper=e("<div>").addClass(l.className).css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-color":l.bgColor,"background-repeat":"no-repeat","background-position":f.x+" "+f.y}),"object"==typeof p&&(p.poster?c=p.poster:p.mp4?c=p.mp4:p.webm?c=p.webm:p.ogv&&(c=p.ogv)),"detect"===g?r(c,(function(e){n.css("background-image","url("+e+")")})):"none"!==g&&n.css("background-image","url("+c+"."+g+")"),"static"===u.css("position")&&u.css("position","relative"),u.prepend(n),"object"==typeof p?(p.mp4&&(d+='<source src="'+p.mp4+'.mp4" type="video/mp4">'),p.webm&&(d+='<source src="'+p.webm+'.webm" type="video/webm">'),p.ogv&&(d+='<source src="'+p.ogv+'.ogv" type="video/ogg">'),o=a.$video=e("<video>"+d+"</video>")):o=a.$video=e('<video><source src="'+p+'.mp4" type="video/mp4"><source src="'+p+'.webm" type="video/webm"><source src="'+p+'.ogv" type="video/ogg"></video>');try{o.prop({autoplay:l.autoplay,loop:l.loop,volume:l.volume,muted:l.muted,defaultMuted:l.muted,playbackRate:l.playbackRate,defaultPlaybackRate:l.playbackRate})}catch(e){throw new Error(i)}o.css({margin:"auto",position:"absolute","z-index":-1,top:f.y,left:f.x,"-webkit-transform":"translate(-"+f.x+", -"+f.y+")","-ms-transform":"translate(-"+f.x+", -"+f.y+")","-moz-transform":"translate(-"+f.x+", -"+f.y+")",transform:"translate(-"+f.x+", -"+f.y+")",visibility:"hidden",opacity:0}).one("canplaythrough."+t,(function(){a.resize()})).one("playing."+t,(function(){o.css({visibility:"visible",opacity:1}),n.css("background-image","none")})),u.on("resize."+t,(function(){l.resizing&&a.resize()})),n.append(o)},a.prototype.getVideoObject=function(){return this.$video[0]},a.prototype.resize=function(){if(this.$video){var e=this.$wrapper,t=this.$video,o=t[0],i=o.videoHeight,n=o.videoWidth,s=e.height(),r=e.width();r/n>s/i?t.css({width:r+2,height:"auto"}):t.css({width:"auto",height:s+2})}},a.prototype.destroy=function(){delete e[t].lookup[this.index],this.$video&&this.$video.off(t),this.$element.off(t).removeData(t),this.$wrapper.remove()},e[t]={lookup:[]},e.fn[t]=function(o,i){var n;return this.each((function(){(n=e.data(this,t))&&n.destroy(),(n=new a(this,o,i)).index=e[t].lookup.push(n)-1,e.data(this,t,n)})),this},e(document).ready((function(){var o=e(window);o.on("resize."+t,(function(){for(var o,i=e[t].lookup.length,n=0;n<i;n++)(o=e[t].lookup[n])&&o.settings.resizing&&o.resize()})),o.on("unload."+t,(function(){return!1})),e(document).find("[data-"+t+"-bg]").each((function(o,i){var n=e(i),s=n.data(t+"-options"),r=n.data(t+"-bg");n[t](r,s)}))}))}(e);export{t as default};
